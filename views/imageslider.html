<div class="s-q-item q-imageslider" data-track-id="q-imageslider" style="opacity: 0;" id="{{ id }}">
  {%- include "./header.html" %}
  {% if item.images.length > 2 %}
  <div>
    <div class="q-imageslider-button-container">
      {%- for image in item.images %}
      <button type="button" class="q-imageslider-button">
        {%- if loop.index0 == item.options.startImage %}
            <label class="q-imageslider-label s-font-sans s-font-note">
              <span class="q-imageslider-label-text s-color-gray-9">{{ image.label }}</span>
            </label>
            <span class="q-imageslider-circle s-color-primary-5"></span>
        {%- else %}
            <label class="q-imageslider-label s-font-sans s-font-note">
              <span class="q-imageslider-label-text s-color-gray-4">{{ image.label }}</span>
            </label>
            <span class="q-imageslider-circle s-color-gray-4"></span>
        {%- endif %}
      </button>
      {%- endfor %}
    </div>
    <div class="q-imageslider-bar s-color-gray-4"></div>
  </div>
  {% else %}
  <div class="s-input-switch s-input-switch--centered">
    {%- if item.options.startImage === 0 %}
    <input class="q-imageslider-switch" type="checkbox"/>
    {%- else %}
    <input class="q-imageslider-switch" type="checkbox" checked/>
    {%- endif %}
    {%- for image in item.images %}
    <label>{{ image.label }}</label>
    {%- endfor %}
  </div>
  {% endif %}
  <div class="q-imageslider-container">
    {% set startImage = item.images[item.options.startImage] %}
    <div class="q-imageslider-image-container" style="position:relative; padding-bottom: {{ ((startImage.file.height / startImage.file.width) * 100) | round(2) }}%">
      {%- for image in item.images %}
        {%- if loop.index0 === item.options.startImage %}
        <picture>
          <source type="image/webp" srcset="{{imageServiceUrl}}/resize?url={{ image.file.url | urlencode }}&width={{ image.file.width }}&nocrop=true&type=webp 1x, {{imageServiceUrl}}/resize?url={{ image.file.url | urlencode }}&width={{ image.file.width*2 }}&nocrop=true&type=webp 2x">
          <source srcset="{{imageServiceUrl}}/resize?url={{ image.file.url | urlencode }}&width={{ image.file.width }}&nocrop=true 1x, {{imageServiceUrl}}/resize?url={{ image.file.url | urlencode }}&width={{ image.file.width*2 }}&nocrop=true 2x">
          <img class="q-imageslider-image" data-imageIndex="{{ loop.index0 }}" style="position:absolute; display:block; width:100%; opacity: 1;" src="{{imageServiceUrl}}/resize?url={{ image.file.url| urlencode }}&width={{ image.file.width }}&nocrop=true">
        </picture>
        {%- else %}
        <picture>
          <source type="image/webp" srcset="{{imageServiceUrl}}/resize?url={{ image.file.url | urlencode }}&width={{ image.file.width }}&nocrop=true&type=webp 1x, {{imageServiceUrl}}/resize?url={{ image.file.url | urlencode }}&width={{ image.file.width*2 }}&nocrop=true&type=webp 2x">
          <source srcset="{{imageServiceUrl}}/resize?url={{ image.file.url | urlencode }}&width={{ image.file.width }}&nocrop=true 1x, {{imageServiceUrl}}/resize?url={{ image.file.url | urlencode }}&width={{ image.file.width*2 }}&nocrop=true 2x">
          <img class="q-imageslider-image" data-imageIndex="{{ loop.index0 }}" style="position:absolute; display:block; width:100%; opacity: 0;" src="{{imageServiceUrl}}/resize?url={{ image.file.url| urlencode }}&width={{ image.file.width }}&nocrop=true">
        </picture>
        {%- endif %}
      {%- endfor %}
    </div>
    <p class="q-imageslider-caption s-font-note s-font-note--light">
      {{ startImage.caption }}
      <span>
      {%- if startImage.credit.text %}
        {%- if startImage.credit.link.url and startImage.credit.link.isValid %}
        (Bild: <a href="{{ startImage.credit.link.url }}" target="blank" rel="noopener noreferrer">{{ startImage.credit.text }}</a>)
        {%- else %}
        (Bild: {{ startImage.credit.text }})
        {%- endif %}
      {%- endif %}
      </span>
    </p>
  </div>
</div>
  {%- include "./footer.html" %}
</div>
